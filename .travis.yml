language: node_js
node_js:
- stable
cache: yarn
before_script:
- npm install -g gulp
script: npm run build && npm test
env:
  global:
  - secure: Tdec+17B/Ba6PO6IID60nyzCJQYVi8NYI4NK2rJlue3lYdRbU3JgC9EJUF1ZLjaVyqpJ8PZYBNggOaaDb0OBlvBHEMIzspG0dEg2rHqQ5KfszQN3sil9Rn8mXQB9wQ0a0pT3JUqmADiawKaHxWaYTc6a7jgzw9WQbB47XiBtnQDscxzpiJt7yfo1folx/PC2fwYL6Q3u6ADKqlR+dTwZFFohmc5BK/NPN3aLSkYtpF8JBAOZaCUAaMVAb9LHSBN20nOsL2SX+Gm0szEPFxdiAS/CT11U6GW2ORc93zViYXZOlWEiPp6ACjidymqW0TQar4sQjNdFgQyZEshFKU/jmD+90tazncoNrXWT79bL8FiDqXDzIHaqEh3Gxx1LhZfE6CJFvtUNpyPz/eyVj2vr35pNI2eUuoVvKeZ51OyzPvJmkRBXXZmhjTHXVzYM6xjyFPoki7oWDhGSfI1/P/Tl5nAefxeAhoYS1W8c4sm7809jpGcHKMhUF9evCM9v3wlug3W8c3XBV1awkFAhTpGdkFXDJyh28ow+FhTnK+PZaljc002ctBVnZNwHvmGoypxm6D5PbO4RAdDiCYliT9mA3rwCvf2012ILfep8FTLZOpJAKhH4Dnlpi3EjMMM9t7P/ysTL+toDxA/IT57PI4iLj4NETWslmWsEdvoR3rH0F64=
  - secure: QHIX3wByth4G0GpRSxmjWSUQRJx6KFDav+ac5LTeweONtNiiePWmydYoa/Cl/6c2zBS+8PwsvfJqpLvwO8zV130HASAj9ZxqEmfBnFI0iuAMJTGLYDOx3P29jkjOz3/N/2f8OoDqihdj4NKXK2SEPNhLuROEK7BMnKga0bcKsr2wKtl5bW00qzqtUN6Ep80uNEFpAwCWw4SRLNP3aO5li6yFK6IHasS0Ay6wg68A/+/QQqPcIcdvlw1+heOt/m2hqC31telmBa7ivTbOJJqD4rMCQRYu+I3PGmEseDW3dHSPhuqpmw8qFpIZuZsm0ghSxTikxB5jgYb5mnyGgOOnuZb+0RaJatdpUe4fk/8VAyWHZ4sbAjJsNfGqbSgFODU339L7HVIGR/BOkGHL52FeWdfHc/MztF3P1WUcwYoPXNJEiuTS8P4fSgZv1L/wFoObZ7xfOVgomenXUTuQGevdMSsgWzdNNIALtUZ+SziOTN7jNadck3nPFnmYWVjKKAO1loB/Fd6at++MHYS8StB/Ya1Kj9qlk24pPwLnO5cvLcbDIu+zIE0PHB76RsjNiwb1ATEN1y/j2+1OEMYs36eTxNQctGsHEt9BgLZYR6qaAsZtKwqqzUQWb6zXZUNL7Ar2/9Y9Mw5CAsP/tcWNTSxCO3N5UjFsFNf+bOHUOa5a9DI=
  - secure: dlr5VH1D6M64o7Xr/GGJFWRSaihGfWwQdM+xwiEspqar4MOm889NfAnjo5D1coU9Tqm4dOkjFs6ALdIqDWcihjoQ12TUTUG52Pr54PFTjL6GlFH92idyE1mw7+e1d9ppk+AFBAumTv9+3TZOOfT8hmX1UMOpmtMc0zgDMRyeZLCorqJkLRuPRr05P2ScTS7DhjMmWg06YeuCNaitbhL8ZVuZqM1KPpdMR+T4X2gWpDEdkddpOqKRlVqGpwXQwWPvRMDuuNDUl5eR1r0ANkEVhsBcOR2Fl08bxSHqtFTLXZ25THRitUl7ZHZx5J5pVIqoxrNYp/GVpwG0ij96ADCTycXVcCEaCuGRQND74jfc00kndufwNK032qq0Hu0TRxF2XN/BXMh776FlSFUPNp9FquFYHW4pit9qU8DuMrIWfVT+kqkIdkneqyMUWLqQhm+2HoTknVBxCUzKsBtAdJtcQA3/RXwIxQeC/49Hvgw8dw0s7d4RnsPsIMleTkrCSYGwc+I/EbylZeC8WXogPL7C3FXfv9p7c6tj4fq4KmaHX2cC0iohSWn0OwkmJfp1tBcddNIe9278gV8xdbAljM+s2wCpAnpVoDT3XH+Cvuyd3pnNHXOAxtogcsK+4mQU0fIfNbmG2kBYpQ2NiMISFezEq6Nym2iSQFDHxm1d5plaQGc=
  - secure: eF/ZWvUqQ5dfu+3EBbODCYv5WT+qXsS2JLKszCjt8utKQnEtvm9HNvANxISYMfuMmbLffTmH8hnlOr6K+hpxJjJuq3xnJ+oMntl9mG58uzioup1lCh1nQdoO3VuL3Ed+2p+kkrssOvd5zvxgMDwmV8wQD8MHL9P17tHtRv6qeALF0Omvb36Eekio+a9ejoXiUlm6WnlReH/kp22ZydOliY86paXCwYEl1MYyDvMmv2qV5oWARt949qTM5u9JV/slveVDuI1j56NmqwNpmaGgP4SUA2Tc7eVmCplVfPzHhM1W3gGqeYH20Id+OuPThQOTW3BZpg44GerjZWgPgSALSADmKmNyfBTWimExuowcYF2HG5cwo889iT+hgX7VjfJC16IsKD/XcolVeAR/dcjfPVIwiZhtYAHm+WXQasAw5BqWg7Iz6mLbD3EP8Y300vJXI6ZpXKZwEtuEWky1HefR61p6uSFPuTYwCC8Lb1MuSiNqT77AJ2xHdfbLgpFMarbYEbXlYKwBGdp0IViOcGamY/oeQjiIcQzDGs0es4MvH4zwVwhx99jAuvqWWZt+1b5I1tEr8FelqLlS5Ad1mhEbgbx45imBa8nzLbDz99miPCiltkzfN7O2clot5ii92RVcbF4xdy4EbrV19YeE6G8YovqzjyQQhomQC8GpADdJuRU=
addons:
  ssh_known_hosts:
  - secure: "Anawis/DsBdxGMROwJVVgM6SAziBp8EfIM41JXZfS9hfIP63/OIdggU1Um2Hb+JqtPVhQUnieghsc/C+lshKgaCHxHtaLoW9gGlf7nQkZlhw6+5JJK9Ovh/GlpuFwTJaMNd1LvCwVSX+m5E7NPdRyaP26yt6TBTgwm/wBjcQVqWMX1U6YKQR12rf3heCIfPumXL+El42v0nICwY4wOwT7uqmaPmQ2LXdbmF/dMJ670g+1aZgyG2DbiHnKtibtMsJGxW827MxFJSpNS5wALcD8K/9vAvzrO1mTWyQ8laESYPY63cm+fxu6YePfEbpbV5K5iTpwe4wtqkBZuNlv32Ii89h8QYfEGH0zWCMfhe0FRAGnerDW/Eq3NRF4u+SARTLNPpIAQY7kA5FtPHyl4PMtYXcDvoSrWz8pC/isoMB3rAuf3pq2iLcS8FMyJiDPU7wona1QF6KbdXxYwn757gt+9n6GSjb4hlwqXOZhmWAJnoB2STBM+1gcc964oHDJBlegQ9NrGV0zu/3HrZhVfxZJ/oWpB1OzfevrtwUVUL77/NUTnuHoB488r7tO/lzV9cih7BUQ3ZQ2+ps+zodZSpd3anGqeGnOo4aRWKK0J2e71ko9V4cDc/FeH88wPAkHLpDnmwFSlKB4yy/dE7WUUl+vXBw7Q/sQkvQ7N3C7M7kWnU="
  apt:
    packages:
    - sshpass
deploy:
  skip_cleanup: true
  provider: script
  script: tasks/travis/deploy.sh
  on:
    branch: master
